{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["// Зберігаємо стан форми у localStorage під ключем \"feedback-form-state\"\n\nconst STORAGE_KEY = 'feedback-form-state';\n\n// Об'єкт поза будь-якими функціями\nlet formData = { email: '', message: '' };\n\nconst form = document.querySelector('.feedback-form');\n\n// ---- відновлення стану при завантаженні\nrestoreForm();\n\nfunction restoreForm() {\n  try {\n    const raw = localStorage.getItem(STORAGE_KEY);\n    if (!raw) return;\n\n    const saved = JSON.parse(raw) ?? {};\n    // Без undefined у полях\n    form.elements.email.value = (saved.email ?? '').toString();\n    form.elements.message.value = (saved.message ?? '').toString();\n\n    // Синхронізуємо formData\n    formData.email = form.elements.email.value;\n    formData.message = form.elements.message.value;\n  } catch {\n    // у разі пошкоджених даних просто ігноруємо\n  }\n}\n\n// ---- делегування input: зберігаємо лише актуальне поле, тримаємо інше\nform.addEventListener('input', (e) => {\n  const { name, value } = e.target;\n  if (name !== 'email' && name !== 'message') return;\n\n  // збережені дані не містять пробіли по краях\n  formData[name] = value.trim();\n\n  // не перетираємо інші поля\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n});\n\n// ---- сабміт із перевіркою\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const email = form.elements.email.value.trim();\n  const message = form.elements.message.value.trim();\n\n  // оновлюємо formData, щоб у консолі були актуальні значення\n  formData.email = email;\n  formData.message = message;\n\n  if (!email || !message) {\n    alert('Fill please all fields');\n    return;\n  }\n\n  console.log(formData); // { email, message }\n\n  // очищення сховища, об'єкта та полів\n  localStorage.removeItem(STORAGE_KEY);\n  formData = { email: '', message: '' };\n  form.reset();\n});\n"],"names":["STORAGE_KEY","formData","form","restoreForm","raw","saved","e","name","value","email","message"],"mappings":"wFAEA,MAAMA,EAAc,sBAGpB,IAAIC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAEvC,MAAMC,EAAO,SAAS,cAAc,gBAAgB,EAGpDC,IAEA,SAASA,GAAc,CACrB,GAAI,CACF,MAAMC,EAAM,aAAa,QAAQJ,CAAW,EAC5C,GAAI,CAACI,EAAK,OAEV,MAAMC,EAAQ,KAAK,MAAMD,CAAG,GAAK,CAAA,EAEjCF,EAAK,SAAS,MAAM,OAASG,EAAM,OAAS,IAAI,WAChDH,EAAK,SAAS,QAAQ,OAASG,EAAM,SAAW,IAAI,WAGpDJ,EAAS,MAAQC,EAAK,SAAS,MAAM,MACrCD,EAAS,QAAUC,EAAK,SAAS,QAAQ,KAC7C,MAAU,CAEP,CACH,CAGAA,EAAK,iBAAiB,QAAUI,GAAM,CACpC,KAAM,CAAE,KAAAC,EAAM,MAAAC,GAAUF,EAAE,OACtBC,IAAS,SAAWA,IAAS,YAGjCN,EAASM,CAAI,EAAIC,EAAM,KAAI,EAG3B,aAAa,QAAQR,EAAa,KAAK,UAAUC,CAAQ,CAAC,EAC5D,CAAC,EAGDC,EAAK,iBAAiB,SAAWI,GAAM,CACrCA,EAAE,eAAc,EAEhB,MAAMG,EAAQP,EAAK,SAAS,MAAM,MAAM,OAClCQ,EAAUR,EAAK,SAAS,QAAQ,MAAM,OAM5C,GAHAD,EAAS,MAAQQ,EACjBR,EAAS,QAAUS,EAEf,CAACD,GAAS,CAACC,EAAS,CACtB,MAAM,wBAAwB,EAC9B,MACD,CAED,QAAQ,IAAIT,CAAQ,EAGpB,aAAa,WAAWD,CAAW,EACnCC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnCC,EAAK,MAAK,CACZ,CAAC"}